REM PRG5_PRUEBAS (CONTROL: CUARTO CONTROL 2)
REM 
REM AUTHOR CARLOS JIMENEZ HIRASHI @cjhirashi
REM VERSION 1.0.0

REM ///////////////////////////////////////////////////////////////////////////////////////////
REM AUTH: Carlos Jimenez Hirashi --- Atom Controles
REM PROG: PR_PRUEBAS (CONTROL: CUARTO DE PRUEBAS 2)
REM DESC: CONTROL DE ACTIVACION DE SISTEMAS DE PRUEBA
REM //////////////////////////////////////////////////////////////////////////////////////////

	REM //VARIABLES
	LOCALS ACTIV_TIRO, ACTIV_AREA, ACTIV_PRESION, ACTIV_RETORNO
	LOCALS MUESTRA_NUM, MUESTRA_TIME, MUESTRA_MAX, MUESTRA_MIN
	LOCALS RESET

	ACTIV_TIRO = BV15						: REM //ACTIVACION, PRUEBA DE TIRO
	ACTIV_AREA = BV16						: REM //ACTIVACION, PRUEBA DE AREA EFECTIVA
	ACTIV_PRESION = BV17					: REM //ACTIVACION, PRUEBA DE CAIDA DE PRESION
	ACTIV_RETORNO = BV18					: REM //ACTIVACION, PRUEBA DE CAUDALES DE RETORNO
	MUESTRA_NUM = AV21						: REM //NUMERO DE MUESTRAS
	MUESTRA_TIME = AV22						: REM //TIEMPO ENTRE MUESTRAS
	MUESTRA_MAX = 30						: REM //NUMERO MAXIMO DE MUESTRAS
	MUESTRA_MIN = 5							: REM //NUMERO MINIMO DE MUESTRAS


	REM //ACTIVACIï¿½N DE SISTEMAS DE CONTROL
	REM ////ACTIVACION: PRUEBA DE TIRO
		IF+ ACTIV_TIRO = 1 THEN BV16@8 = 0, BV17@8 = 0, BV18@8 = 0, RESET = 1
	REM ////ACTIVACION: PRUEBA DE AREA EFECTIVA
		IF+ ACTIV_AREA = 1 THEN BV15@8 = 0, BV17@8 = 0, BV18@8 = 0, RESET = 1
	REM ////ACTIVACION: PRUEBA DE CAIDA DE PRESION
		IF+ ACTIV_PRESION = 1 THEN BV15@8 = 0, BV16@8 = 0, BV18@8 = 0, RESET = 1
	REM ////ACTIVACION: PRUEBA DE CAUDALES DE RETORNO
		IF+ ACTIV_RETORNO = 1 THEN BV15@8 = 0, BV16@8 = 0, BV17@8 = 0, RESET = 1
	REM ////RESET DE VARIABLES CON SISTEMAS INACTIVOS
		IF+ ACTIV_TIRO = 0 AND ACTIV_AREA = 0 AND ACTIV_PRESION = 0 AND ACTIV_RETORNO = 0 THEN  RESET = 1

	REM //LIMITE DE PARAMETROS DE MUESTREO
	REM ////NUMERO DE MUESTRAS
		IF MUESTRA_NUM > MUESTRA_MAX THEN AV21@8 = MUESTRA_MAX
		IF MUESTRA_NUM < MUESTRA_MIN THEN AV21@8 = MUESTRA_MIN
	REM ////TIEMPO ENTRE MUESTRAS
		IF MUESTRA_TIME > MUESTRA_MAX THEN AV22@8 = MUESTRA_MAX
		IF MUESTRA_TIME < MUESTRA_MIN THEN AV22@8 = MUESTRA_MIN

	REM //RESETEO DE VARIABLES DE MUESTREO
	IF+ RESET = 1 THEN
		BV21@8 = 0				: REM //VARIABLE INICIO
		AV21@8 = 0				: REM //VARIABLE NUMERO DE MUESTRAS
		AV22@8 = 0				: REM //VARIABLE TIEMPO ENTRE MUESTRAS
		AV31 = 0				: REM //VALOR PROMEDIO 1
		AV32 = 0				: REM //VALOR MAXIMO 1
		AV33 = 0				: REM //VALOR MINIMO 1
		AV34 = 0				: REM //VALOR PROMEDIO 2
		AV35 = 0				: REM //VALOR MAXIMO 2
		AV36 = 0 				: REM //VALOR MINIMO 2
		AV37 = 0				: REM //VALOR PROMEDIO 3
		AV38 = 0 				: REM //VALOR MAXIMO 3
		AV39 = 0 				: REM //VALOR MINIMO 3
		AV40 = 0				: REM //VALOR PROMEDIO 4
		AV41 = 0 				: REM //VALOR MAXIMO 4
		AV42 = 0 				: REM //VALOR MINIMO 4
		AV43 = 0				: REM //VALOR PROMEDIO 5
		AV44 = 0 				: REM //VALOR MAXIMO 5
		AV45 = 0 				: REM //VALOR MINIMO 5
		AV46 = 0				: REM //VALOR PROMEDIO 6
		AV47 = 0 				: REM //VALOR MAXIMO 6
		AV48 = 0 				: REM //VALOR MINIMO 6
		AV49 = 0				: REM //VALOR PROMEDIO 7
		AV50 = 0 				: REM //VALOR MAXIMO 7
		AV51 = 0 				: REM //VALOR MINIMO 7
		AV52 = 0				: REM //VALOR PROMEDIO 8
		AV53 = 0 				: REM //VALOR MAXIMO 8
		AV54 = 0 				: REM //VALOR MINIMO 8
		AV55 = 0				: REM //VALOR PROMEDIO 9
		AV56 = 0 				: REM //VALOR MAXIMO 9
		AV57 = 0 				: REM //VALOR MINIMO 9
		AV58 = 0				: REM //VALOR PROMEDIO 10
		AV59 = 0	 			: REM //VALOR MAXIMO 10
		AV60 = 0	  			: REM //VALOR MINIMO 10
		AV61@8 = 0				: REM //VARIABLE MANUAL 1
		AV62@8 = 0				: REM //VARIABLE MANUAL 2
		AV63@8 = 0				: REM //VARIABLE MANUAL 3
		AV64@8 = 0				: REM //VARIABLE MANUAL 4
		AV65@8 = 0				: REM //VARIABLE MANUAL 5
		AV66@8 = 0				: REM //VARIABLE MANUAL 6
		AV67@8 = 0				: REM //VARIABLE MANUAL 7
		AV68@8 = 0				: REM //VARIABLE MANUAL 8
		AV69@8 = 0				: REM //VARIABLE MANUAL 9
		AV70@8 = 0				: REM //VARIABLE MANUAL 10
		AV71 = 0				: REM //VAR GRUPO 1_1
		AV72 = 0				: REM //VAR GRUPO 1_2
		AV73 = 0				: REM //VAR GRUPO 1_3
		AV74 = 0				: REM //VAR GRUPO 1_4
		AV75 = 0				: REM //VAR GRUPO 2_1
		AV76 = 0				: REM //VAR GRUPO 2_2
		AV77 = 0				: REM //VAR GRUPO 2_3
		AV78 = 0				: REM //VAR GRUPO 2_4
		AV79 = 0				: REM //VAR GRUPO 3_1
		AV80 = 0				: REM //VAR GRUPO 3_2
		AV81 = 0				: REM //VAR GRUPO 3_3
		AV82 = 0				: REM //VAR GRUPO 3_4
		AV83 = 0				: REM //VAR GRUPO 4_1
		AV84 = 0				: REM //VAR GRUPO 4_2
		AV85 = 0				: REM //VAR GRUPO 4_3
		AV86 = 0				: REM //VAR GRUPO 4_4
		AV87 = 0				: REM //VAR GRUPO 5_1
		AV88 = 0				: REM //VAR GRUPO 5_2
		AV89 = 0				: REM //VAR GRUPO 5_3
		AV90 = 0				: REM //VAR GRUPO 5_4
		AV91 = 0				: REM //VAR GRUPO 6_1
		AV92 = 0				: REM //VAR GRUPO 6_2
		AV93 = 0				: REM //VAR GRUPO 6_3
		AV94 = 0				: REM //VAR GRUPO 6_4
		AV95 = 0				: REM //VAR GRUPO 7_1
		AV96 = 0				: REM //VAR GRUPO 7_2
		AV97 = 0				: REM //VAR GRUPO 7_3
		AV98 = 0				: REM //VAR GRUPO 7_4
		AV99 = 0				: REM //VAR GRUPO 8_1
		AV100 = 0				: REM //VAR GRUPO 8_2
		AV101 = 0				: REM //VAR GRUPO 8_3
		AV102 = 0				: REM //VAR GRUPO 8_4
		AV103 = 0				: REM //VAR GRUPO 9_1
		AV104 = 0				: REM //VAR GRUPO 9_2
		AV105 = 0				: REM //VAR GRUPO 9_3
		AV106 = 0				: REM //VAR GRUPO 9_4
		AV107 = 0				: REM //VAR GRUPO 10_1
		AV108 = 0				: REM //VAR GRUPO 10_2
		AV109 = 0				: REM //VAR GRUPO 10_3
		AV110 = 0				: REM //VAR GRUPO 10_4
		BV31 = 0				: REM //VAR DG 1
		BV32 = 0				: REM //VAR DG 2
		BV33 = 0				: REM //VAR DG 3
		BV34 = 0				: REM //VAR DG 4
		BV35 = 0				: REM //VAR DG 5
		BV36 = 0				: REM //VAR DG 6
		BV37 = 0				: REM //VAR DG 7
		BV38 = 0				: REM //VAR DG 8
		BV39 = 0				: REM //VAR DG 9
		BV40 = 0				: REM //VAR DG 10
		RESET = 0
	ENDIF

END